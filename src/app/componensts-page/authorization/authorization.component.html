<app-navbar></app-navbar>

<div class="auth-container">
  <div class="error-notification" *ngIf="showError">
    {{ errorMessage }}
  </div>

  <h1>Войдите в ваш аккаунт</h1>

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="auth-form">
    <div class="form-group">
      <label for="username">Логин</label>
      <input
        id="username"
        type="text"
        formControlName="username"
        [class.error]="username?.invalid && (username?.dirty || username?.touched)"
        placeholder="loginname">
      <div class="error-message" *ngIf="username?.invalid && (username?.dirty || username?.touched)">
        Это поле обязательно
      </div>
    </div>

    <div class="form-group">
      <label for="password">Пароль</label>
      <input
        id="password"
        type="password"
        formControlName="password"
        [class.error]="password?.invalid && (password?.dirty || password?.touched)"
        placeholder="password">
      <div class="error-message" *ngIf="password?.invalid && (password?.dirty || password?.touched)">
        <span *ngIf="password?.errors?.['required']">Это поле обязательно</span>
        <span *ngIf="password?.errors?.['minlength']">Пароль должен быть не менее 4 символов</span>
      </div>
    </div>

    <div class="form-options">
      <div class="checkbox-group">
        <input
          type="checkbox"
          id="fastJwt"
          [checked]="loginForm.value.fastJwt"
          formControlName="fastJwt">
        <label for="fastJwt">Быстрая сессия</label>
      </div>
      <a routerLink="/registration" class="register-link">Зарегистрироваться</a>
    </div>

    <button
      type="submit"
      [disabled]="loginForm.invalid"
      class="login-button">
      Вход
    </button>

    <div class="social-login">
      <p class="divider">Или войти через</p>
      <button type="button" class="github-button">
        <img src="assets/images/gitIcon.png" alt="GitHub">
      </button>
    </div>
  </form>
</div>

<app-footer></app-footer>
